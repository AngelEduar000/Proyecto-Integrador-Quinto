<div class="row form-container">
  <div class="col-lg-4 offset-lg-4">
    <div class="card glass-card mb-3">
      <div class="card-header text-center">
        {{ idConglomerado ? 'Editar Conglomerado' : 'Agregar Conglomerado' }}
      </div>
      <div class="card-body">
        <form [formGroup]="conglomeradoForm" (ngSubmit)="onSubmit()">
          <div class="form-group">
            <label for="identificador">Identificador</label>
            <input id="identificador" type="text" formControlName="identificador" class="form-control" placeholder="Ingrese el identificador" />
            <small class="text-danger" *ngIf="conglomeradoForm.get('identificador')?.invalid && conglomeradoForm.get('identificador')?.touched">
              Identificador es requerido
            </small>
          </div>

          <div class="form-group">
            <label for="fecha_creacion">Fecha de creación</label>
            <input id="fecha_creacion" type="date" formControlName="fecha_creacion" class="form-control" />
            <small class="text-danger" *ngIf="conglomeradoForm.get('fecha_creacion')?.invalid && conglomeradoForm.get('fecha_creacion')?.touched">
              Fecha es requerida
            </small>
          </div>

          <div class="form-group">
            <label for="fecha_establecimiento">Fecha de establecimiento</label>
            <input id="fecha_establecimiento" type="date" formControlName="fecha_establecimiento" class="form-control" />
            <small class="text-danger" *ngIf="conglomeradoForm.get('fecha_establecimiento')?.invalid && conglomeradoForm.get('fecha_establecimiento')?.touched">
              Fecha es requerida
            </small>
          </div>

          <div class="form-group">
            <label>Región</label>
            <app-dropdown
              [labelOption]="'label'"
              [valueOption]="'value'"
              [options]="regiones"
              [selectedValue]="conglomeradoForm.get('region')?.value"
              (select)="changeSelectRegion($event)">
            </app-dropdown>
            <small class="text-danger" *ngIf="conglomeradoForm.get('region')?.invalid && conglomeradoForm.get('region')?.touched">
              Región es requerida
            </small>
          </div>

          <div class="form-group">
            <label>Municipio</label>
            <app-dropdown
              [labelOption]="'label'"
              [valueOption]="'value'"
              [options]="municipios"
              [selectedValue]="conglomeradoForm.get('municipio')?.value"
              (select)="changeSelectMunicipio($event)">
            </app-dropdown>
            <small class="text-danger" *ngIf="conglomeradoForm.get('municipio')?.invalid && conglomeradoForm.get('municipio')?.touched">
              Región es requerida
            </small>
          </div>

          <div class="form-group">
            <label for="coordenadas">Coordenadas</label>
            <input id="coordenadas" formControlName="coordenadas" type="text" class="form-control" placeholder="Ej: 5.635358, -76.594291" />
            <small class="text-danger" *ngIf="conglomeradoForm.get('coordenadas')?.invalid && conglomeradoForm.get('coordenadas')?.touched">
              Formato inválido. Use: número, número
            </small>
          </div>

          <div class="row mt-4 text-center">
            <div class="col-lg-6">
              <a routerLink="/ideam" class="btn btn-secondary w-100">Volver</a>
            </div>
            <div class="col-lg-6">
              <button type="submit" [disabled]="conglomeradoForm.invalid" class="btn btn-success w-100">Aceptar</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
